---
layout: post
title: ExtJS5 - Codemirror Integration
date: '2015-01-25T22:13:00.000-08:00'
author: Balagangadhar Addanki
tags:
- extjs4
- codemirror
- extjs5
modified_time: '2015-01-25T22:18:22.577-08:00'
thumbnail: http://4.bp.blogspot.com/-dL2MZVwCgsM/VMXb_77zsdI/AAAAAAAAGK4/KmdacvbR3is/s72-c/screen-shot.png
blogger_id: tag:blogger.com,1999:blog-2232263284250046405.post-6339399648875697068
blogger_orig_url: http://www.balasblog.com/2015/01/extjs5-codemirror-integration.html
---

Being one of the leading frameworks for RIA, I was expecting ExtJS 5 with an inbuilt code editor. There are some add-ons available for ExtJS3 and  ExtJS4 by extending form field base so that they can make it in par with form. But it is more restricted using in that way. We need to compromise with the layout if you are not using it on any other component. Instead we can use a simple hack to make it work seamlessly on any ExtJS components.<br /><br />Since code mirror requires div or textarea, we can make use of ExtJS' 'box' to get handle of div. Next level complexity comes with form support and layouting. Here is the idea<br /><br /><ul><li>Create a custom component by extending container of panel(As per requirement)</li><li>Use codemirror's configs as configs of custom component</li><li>Add following components as items</li><ul><li>box : Since it provides a div, we can use it to render code mirror component</li><li>field: Add this item to your custom component and make it hidden. Replicate all the changes/actions on this field component whenever there are changes/actions on the codemirror.&nbsp;</li></ul><li>Initialize codemiror field 'afterrender' of custom component with the configs that are defined on it.&nbsp;</li></ul><div><b>Form Support</b></div><div>ExtJS form comes with the additional properties like dirty change, load/get/update Record features &nbsp;so that we can load the model into the form and work with it. Whenever we add our custom component to form, form will be able to identify the field item which is the part of our custom component. Since ExtJS form fires every action on our field, we can get the handle form actions.&nbsp;</div><div><br /></div><div>For example if there is a change event on code mirror, we will be able to find out whether its a dirty or not but how can we tell form that it is dirty? Thats where we bring our field into action. Call <i>setDirty</i>&nbsp;function of field and fire dirty change event from that. Rest will be taken care by form. Sam e applies with the other actions.&nbsp;</div><div><br /></div><div><b>Layout Support</b></div><div>Since it is our custom component, we don't need to worry much.&nbsp;</div><div><br /></div><div><b>Controlling Size</b></div><div>Code mirror has a pre-configured height(300) in its css and there is a method to set custom height and width. We can pass these values as configs to our custom component and call <i>setSize</i>&nbsp;method of codemirror.&nbsp;</div><div><br /></div><div><br /></div><div>I have tried a custom component with remote validation features. You can find source code at the following location. This is just a prototype code to show how we can make codemirror work with ExtJS without affecting much from its version changes. You can take the idea and customize it as per your needs.&nbsp;</div><div><br /></div><div><span style="background-color: white; color: #444444; font-family: Arial, Tahoma, Helvetica, FreeSans, sans-serif; font-size: 13px; line-height: 18.2000007629395px;">Source can be found&nbsp;@</span>: <a href="https://github.com/Balagangadhar/templates/tree/master/extjs5-codemirror-template">https://github.com/Balagangadhar/templates/tree/master/extjs5-codemirror-template</a></div><div><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-dL2MZVwCgsM/VMXb_77zsdI/AAAAAAAAGK4/KmdacvbR3is/s1600/screen-shot.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-dL2MZVwCgsM/VMXb_77zsdI/AAAAAAAAGK4/KmdacvbR3is/s1600/screen-shot.png" height="184" width="400" /></a></div><br /></div><div><br /></div>