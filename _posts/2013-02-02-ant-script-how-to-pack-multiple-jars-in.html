---
layout: post
title: 'Ant Script: How To Pack Multiple Jars In A Single Script'
date: '2013-02-02T23:16:00.001-08:00'
author: Balagangadhar Addanki
tags:
- ant
- pack200
modified_time: '2013-02-02T23:30:50.439-08:00'
blogger_id: tag:blogger.com,1999:blog-2232263284250046405.post-4153126524932917795
blogger_orig_url: http://www.balasblog.com/2013/02/ant-script-how-to-pack-multiple-jars-in.html
---

As we know that, <a href="http://docs.oracle.com/javase/1.5.0/docs/tooldocs/share/pack200.html" target="_blank">pack200</a> is the best compression tool to compress java classes(In my experience, it compresses one third to one ninth of its original size). Sometimes we need to pack a bundle of jar files(Especially library files), but it is hard to use command line syntax to bundle them all in a single shot. But ant will help us to automate this, even if you don't know <i>ant , </i>don't worry. Just follow these steps. <br /><br /><u><b>Steps to pack multiple jars</b></u><br /><ul><li>Download ant from <a href="http://ant.apache.org/bindownload.cgi" target="_blank">here</a>.&nbsp; </li><li>Set %ANT_HOME% as path variable and add ant/bin to path.</li><li>Create a file and name it <i>build.xml</i>. (If you don't know any thing about build.xml, just copy following code and save it as build.xml).</li></ul><b>&lt;project&gt;<br />&lt;property name="dir.jar" value="</b>Source_Folder<b>"/&gt;<br />&lt;apply executable="pack200" parallel="false" dest="</b>Destination_Folder<b>"&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;arg value="--modification-time=latest"/&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;arg value="--deflate-hint=true"/&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;arg value="--segment-limit=-1"/&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;targetfile/&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;srcfile/&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;fileset dir="${dir.jar}/" includes="**/*.jar" /&gt;<br />&nbsp;&nbsp;&nbsp; &lt;mapper type="glob" from="*" to="*.pack.gz" /&gt;<br />&nbsp;&lt;/apply&gt;<br />&lt;/project&gt;</b><br /><br />In the preceding code snippet, Source_Folder and Destination_Folder are user defined folders. Make sure that your jar files are in source_folder and these two folders should be in the same folder as build.xml .<br /><ul><li>Final step is, type ant.&nbsp;</li></ul>Done... Your packed jars with extenstion pack.gz will be created in Destination_Folder.&nbsp; <br /><br /><br /><br /><br /><br /><br />&nbsp;&nbsp;&nbsp;&nbsp; <br /><ul></ul>